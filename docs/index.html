<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Real Estate Simulator - Portf√≥lio Caio</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; color: #333; line-height: 1.6; padding: 20px; }
        .container { max-width: 800px; margin: auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; }
        .info { background: #e8f4fd; border-left: 5px solid #3498db; padding: 15px; margin-bottom: 20px; font-size: 0.9em; }
        label { font-weight: bold; display: block; margin-top: 15px; }
        select, textarea { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        button { background-color: #27ae60; color: white; padding: 12px 20px; border: none; border-radius: 4px; cursor: pointer; width: 100%; font-size: 1.1em; margin-top: 20px; transition: 0.3s; }
        button:hover { background-color: #219150; }
        #result { margin-top: 30px; display: none; padding: 20px; border: 1px solid #27ae60; background: #f9fffb; border-radius: 4px; }
        pre { background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 4px; overflow-x: auto; }
        .badge { background: #e74c3c; color: white; padding: 3px 8px; border-radius: 3px; font-size: 0.8em; }
    </style>
</head>
<body>

<div class="container">
    <h1>ü§ñ Lead AI Simulator</h1>
    <p class="info">
        Este simulador demonstra como o <strong>Gemini 2.5 Flash</strong> processa leads complexos, priorizando a inten√ß√£o real do cliente sobre os campos engessados do formul√°rio.
    </p>

    <label for="leadSelector">Selecione um Perfil de Teste:</label>
    <select id="leadSelector" onchange="updateFields()">
        <option value="">-- Escolha um cen√°rio --</option>
        <option value="helena">Dra. Helena (VIP - Falso Negativo)</option>
        <option value="alberto">General Alberto (Urg√™ncia M√°xima)</option>
        <option value="beatriz">Dra. Beatriz (Investidora)</option>
    </select>

    <label>Objetivo Marcado no Formul√°rio:</label>
    <input type="text" id="formGoal" disabled style="width:100%; padding:10px; background:#eee; border:1px solid #ddd;">

    <label>Coment√°rio do Cliente (Onde a IA atua):</label>
    <textarea id="comment" rows="5" readonly></textarea>

    <button onclick="simulateAI()">Analisar Lead com IA</button>

    <div id="result">
        <h3>‚úÖ An√°lise da IA Gerada:</h3>
        <p><strong>Status:</strong> <span id="status"></span></p>
        <p><strong>Resumo Executivo:</strong> <span id="summary"></span></p>
        <pre id="jsonOutput"></pre>
        <p style="font-size: 0.8em; color: #666;">*Este √© um resultado simulado baseado na l√≥gica do Gemini 2.5 Flash implementada no n8n.</p>
    </div>
</div>

<script>
    const leads = {
        helena: {
            goal: "Alugar um Im√≥vel (At√© R$ 4.000)",
            comment: "Preenchi os campos padr√£o rapidamente. Na verdade, tenho verba de reloca√ß√£o de R$ 5.5 milh√µes para COMPRA IMEDIATA em 10 dias. Procuro cobertura de alto padr√£o.",
            analysis: {
                urgencia_score: 5,
                sentimento: "Neutro/Direto",
                perfil_lead: "Compra / VIP / 5.5M",
                resumo_ia: "Diretora m√©dica com 5.5M para compra imediata em 10 dias. Ignorar aluguel.",
                proximo_passo: "Enviar cat√°logo de coberturas via WhatsApp imediatamente."
            }
        },
        alberto: {
            goal: "Comprar um Im√≥vel (Padr√£o)",
            comment: "Retornando de miss√£o diplom√°tica. Busco resid√™ncia no Lago Sul, or√ßamento de R$ 9.5 milh√µes √† vista. Preciso fechar em 12 dias.",
            analysis: {
                urgencia_score: 5,
                sentimento: "Entusiasmado/Autoridade",
                perfil_lead: "Misto/Investidor Alto Padr√£o",
                resumo_ia: "General (R1) busca im√≥vel de 9.5M √† vista com fechamento em 12 dias.",
                proximo_passo: "Agendar visita com Consultor S√™nior ainda hoje."
            }
        },
        beatriz: {
            goal: "Comprar um Im√≥vel",
            comment: "Busco andar corrido ou conjunto de 5 est√∫dios para Airbnb. Or√ßamento de R$ 6.5 milh√µes. Tenho 15 dias antes de viajar.",
            analysis: {
                urgencia_score: 4,
                sentimento: "Focado/Investidor",
                perfil_lead: "Investidor Corporativo",
                resumo_ia: "Arquiteta busca 5 unidades para investimento (6.5M). Urg√™ncia: 15 dias.",
                proximo_passo: "Apresentar pacotes de unidades para Retrofit ou Short Stay."
            }
        }
    };

    function updateFields() {
        const val = document.getElementById('leadSelector').value;
        if(val) {
            document.getElementById('formGoal').value = leads[val].goal;
            document.getElementById('comment').value = leads[val].comment;
            document.getElementById('result').style.display = 'none';
        }
    }

    function simulateAI() {
        const val = document.getElementById('leadSelector').value;
        if(!val) return alert("Selecione um perfil primeiro!");
        
        const res = document.getElementById('result');
        const analysis = leads[val].analysis;
        
        document.getElementById('status').innerHTML = analysis.perfil_lead;
        document.getElementById('summary').innerHTML = analysis.resumo_ia;
        document.getElementById('jsonOutput').innerHTML = JSON.stringify(analysis, null, 2);
        
        res.style.display = 'block';
    }
</script>

</body>
</html>
